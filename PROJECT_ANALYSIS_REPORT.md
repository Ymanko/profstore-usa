# üìä –ê–ù–ê–õ–Ü–ó –ü–†–û–ï–ö–¢–£ PROFSTORE-HEADLESS-SHOPIFY

**–î–∞—Ç–∞ –∞–Ω–∞–ª—ñ–∑—É:** 12 –≥—Ä—É–¥–Ω—è 2025
**–ì—ñ–ª–∫–∞:** denys/project-optimization
**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó:** Next.js 16.0.7, React 19.2.1, Apollo Client 4.0.9, TypeScript 5

---

## üéØ –ó–ê–ì–ê–õ–¨–ù–ê –û–¶–Ü–ù–ö–ê

| –ö–∞—Ç–µ–≥–æ—Ä—ñ—è           | –û—Ü—ñ–Ω–∫–∞     | –°—Ç–∞—Ç—É—Å            |
| ------------------- | ---------- | ----------------- |
| **–ë–µ–∑–ø–µ–∫–∞**         | 6/10       | üü° –ü–æ—Ç—Ä–µ–±—É—î —É–≤–∞–≥–∏ |
| **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**     | 4/10       | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ       |
| **–Ø–∫—ñ—Å—Ç—å –∫–æ–¥—É**     | 7/10       | üü° –ó–∞–¥–æ–≤—ñ–ª—å–Ω–æ     |
| **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**  | 3/10       | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ       |
| **TypeScript**      | 8/10       | üü¢ –î–æ–±—Ä–µ          |
| **–ó–∞–≥–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞** | **5.6/10** | üü°                |

---

## üî¥ –ö–†–ò–¢–ò–ß–ù–Ü –ü–†–û–ë–õ–ï–ú–ò (–ü–û–¢–†–ï–ë–£–Æ–¢–¨ –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø)

### 1. –ê–†–•–Ü–¢–ï–ö–¢–£–†–ê: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Next.js App Router

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ—Å—å –¥–æ–¥–∞—Ç–æ–∫ –æ–±–≥–æ—Ä–Ω—É—Ç–∏–π –≤ `'use client'`, —â–æ –Ω—ñ–≤–µ–ª—é—î –ø–µ—Ä–µ–≤–∞–≥–∏ Next.js

**–õ–æ–∫–∞—Ü—ñ—è:**

- `src/app/layout.tsx:34-40` - ApolloWrapper –æ–±–≥–æ—Ä—Ç–∞—î –≤–µ—Å—å –¥–æ–¥–∞—Ç–æ–∫
- `src/lib/apollo/appolo-client.ts:2` - Apollo Client –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ
- –í—Å—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Client Components –¥–ª—è data fetching

**–ù–∞—Å–ª—ñ–¥–∫–∏:**

- ‚ùå –ù–µ–º–∞—î Server-Side Rendering (SSR)
- ‚ùå –ù–µ–º–∞—î Static Site Generation (SSG)
- ‚ùå –ü–æ–≤—ñ–ª—å–Ω–∏–π First Contentful Paint (FCP)
- ‚ùå –ü–æ–≥–∞–Ω–∏–π SEO - –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ —ñ–Ω–¥–µ–∫—Å—É—î—Ç—å—Å—è
- ‚ùå –í–µ–ª–∏–∫–∏–π JavaScript bundle (~500KB+)

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –í–ò–°–û–ö–ò–ô
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –í–∏—Å–æ–∫–∞
–ß–ê–°: 2-3 –¥–Ω—ñ

–ü–ª–∞–Ω –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
1. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ Apollo Client –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Server Components –¥–ª—è data fetching
3. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –¥–∞–Ω—ñ —á–µ—Ä–µ–∑ props –¥–æ Client Components
4. –ó–∞–ª–∏—à–∏—Ç–∏ 'use client' —Ç—ñ–ª—å–∫–∏ –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
```

**–ü—Ä–∏–∫–ª–∞–¥:**

```typescript
// ‚ùå –ó–ê–†–ê–ó (–ø–æ–≥–∞–Ω–æ)
'use client';
export default function CatalogPage() {
  const { data } = useQuery(GET_PRODUCTS);
  return <ProductList products={data} />;
}

// ‚úÖ –ü–û–¢–†–Ü–ë–ù–û (–¥–æ–±—Ä–µ)
// Server Component
export default async function CatalogPage() {
  const data = await fetchProducts(); // Server-side
  return <ProductList products={data} />; // Client Component
}
```

---

### 2. –ü–†–û–î–£–ö–¢–ò–í–ù–Ü–°–¢–¨: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—å–æ–≥–æ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ

**–ü—Ä–æ–±–ª–µ–º–∞:** Apollo Client –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ + 'use client' —Å–∫—Ä—ñ–∑—å

**–õ–æ–∫–∞—Ü—ñ—è:**

- `src/components/pages/catalog/CatalogProducts/CatalogProducts.tsx:19` - useQuery –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ
- `src/components/pages/Product/ProductInfo.tsx:15` - useQuery –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ

**–ú–µ—Ç—Ä–∏–∫–∏:**

```
JavaScript bundle size: ~487KB (–∑—ñ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è–º ~156KB)
Apollo Client: ~135KB
–ß–∞—Å –¥–æ –ø–µ—Ä—à–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É: 2.5-3s (–ø–æ–≤—ñ–ª—å–Ω–æ)
```

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –í–ò–°–û–ö–ò–ô
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –°–µ—Ä–µ–¥–Ω—è
–ß–ê–°: 1-2 –¥–Ω—ñ

–í–∞—Ä—ñ–∞–Ω—Ç–∏:
1. –ú—ñ–≥—Ä—É–≤–∞—Ç–∏ –Ω–∞ Server Components (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
2. –î–æ–¥–∞—Ç–∏ SSG –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫
3. –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ Incremental Static Regeneration (ISR)
```

---

### 3. –ë–ï–ó–ü–ï–ö–ê: Console statements –≤ production –∫–æ–¥—ñ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–∏—Ç—ñ–∫ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ console.warn

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/lib/apollo/appolo-client.ts:7-10
console.warn('process.env.NEXT_PUBLIC_SHOPIFY_STORE_DOMAIN', process.env.NEXT_PUBLIC_SHOPIFY_STORE_DOMAIN);

// src/components/layout/Header/MiddleNav/components/CatalogSidebar/CatalogSidebar.tsx:40
console.warn('Category URL is null');

// src/components/layout/Header/MiddleNav/components/MobileCatalogMenu/MobileCatalogMenu.tsx:68,94
console.warn('SubCategory URL is null');
```

**–ù–∞—Å–ª—ñ–¥–∫–∏:**

- –í–∏—Ç—ñ–∫ URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤ production
- –í–∏—Ç—ñ–∫ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏
- –ó–∞—Å–º—ñ—á–µ–Ω–Ω—è browser console

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –í–ò–°–û–ö–ò–ô (–ª–µ–≥–∫–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏)
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –ù–∏–∑—å–∫–∞
–ß–ê–°: 15 —Ö–≤–∏–ª–∏–Ω

–†—ñ—à–µ–Ω–Ω—è:
1. –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ console.warn/console.log
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ proper error handling –∑–∞–º—ñ—Å—Ç—å console
3. –î–æ–¥–∞—Ç–∏ logger (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, winston) –¥–ª—è production
```

---

### 4. ERROR HANDLING: –í—ñ–¥—Å—É—Ç–Ω—è –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–º—ñ—Ç–∏–≤–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –±–µ–∑ fallback UI

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/components/pages/Product/ProductInfo.tsx:17-18
if (loading) return <p>Loading...</p>;
if (error) return <p>Error loading product</p>;
```

**–©–æ –Ω–µ —Ç–∞–∫:**

- ‚ùå –ù–µ–º–∞—î Error Boundary –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- ‚ùå –ù–µ–º–∞—î –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ (Sentry, LogRocket)
- ‚ùå –ü—Ä–∏–º—ñ—Ç–∏–≤–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏
- ‚ùå –ù–µ–º–∞—î retry –ª–æ–≥—ñ–∫–∏
- ‚ùå –ù–µ–º–∞—î fallback UI

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –í–ò–°–û–ö–ò–ô
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –°–µ—Ä–µ–¥–Ω—è
–ß–ê–°: 1 –¥–µ–Ω—å

–ü–ª–∞–Ω:
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ Error Boundary –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. –î–æ–¥–∞—Ç–∏ proper error handling –≤ useQuery
3. –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ Sentry –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
4. –°—Ç–≤–æ—Ä–∏—Ç–∏ ErrorFallback UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

---

### 5. PERFORMANCE: N+1 —Ç–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è 50 –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –±–µ–∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/components/pages/catalog/CatalogProducts/CatalogProducts.tsx:20
const { loading, error, data } = useQuery(GET_PRODUCTS, {
  variables: { first: 50 }, // ‚ùå –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è 50 –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –æ–¥—Ä–∞–∑—É
});
```

**–ü—Ä–æ–±–ª–µ–º–∏:**

- –ù–µ–º–∞—î lazy loading
- –ù–µ–º–∞—î infinite scroll
- –ù–µ–º–∞—î –∫–µ—à—É–≤–∞–Ω–Ω—è
- –ù–µ–º–∞—î optimistic updates

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –°–ï–†–ï–î–ù–Ü–ô
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –°–µ—Ä–µ–¥–Ω—è
–ß–ê–°: 1 –¥–µ–Ω—å

–†—ñ—à–µ–Ω–Ω—è:
1. –î–æ–¥–∞—Ç–∏ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é (10-20 –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É)
2. –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ infinite scroll
3. –î–æ–¥–∞—Ç–∏ fetchPolicy –≤ Apollo Client
4. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ React.lazy –¥–ª—è code splitting
```

---

## üü° –í–ê–ñ–õ–ò–í–Ü –ü–†–û–ë–õ–ï–ú–ò (–í–ê–†–¢–û –í–ò–ü–†–ê–í–ò–¢–ò)

### 6. –ë–ï–ó–ü–ï–ö–ê: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—ñ–¥—Å—É—Ç–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—è URL –≤ parseSubcategoryData

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/utils/parsers/parseSubcategoryData.ts:2-5
export function parseSubCategoryData(value: string): ParsedSubCategoryData {
  const [title, image] = value.split(':i:');
  return { title: title?.trim() ?? '', image: image?.trim() ?? '' };
}
```

**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∞ –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å:** XSS —á–µ—Ä–µ–∑ –∑–ª–æ–≤–º–∏—Å–Ω—ñ URL –≤ image field

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –°–ï–†–ï–î–ù–Ü–ô
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –ù–∏–∑—å–∫–∞
–ß–ê–°: 30 —Ö–≤–∏–ª–∏–Ω

–†—ñ—à–µ–Ω–Ω—è:
1. –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é URL (new URL() –∞–±–æ regex)
2. –î–æ–¥–∞—Ç–∏ sanitization –¥–ª—è HTML
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Next.js Image component (–≤–∂–µ —î –≤ next.config.ts)
```

---

### 7. TYPESCRIPT: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å codegen –¥–ª—è GraphQL

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–∏–ø–∏ GraphQL –ø–∏—à—É—Ç—å—Å—è –≤—Ä—É—á–Ω—É

**–õ–æ–∫–∞—Ü—ñ—è:**

- `src/components/pages/Product/ProductInfo.tsx:8-14` - –º–∞–Ω—É–∞–ª—å–Ω—ñ —Ç–∏–ø–∏
- `src/components/pages/catalog/CatalogProducts/CatalogProducts.tsx:10-16` - –¥—É–±–ª—é–≤–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –°–ï–†–ï–î–ù–Ü–ô
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –°–µ—Ä–µ–¥–Ω—è
–ß–ê–°: 2 –≥–æ–¥–∏–Ω–∏

–†—ñ—à–µ–Ω–Ω—è:
1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ @graphql-codegen/cli
2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ codegen.yml
3. –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ç–∏–ø–∏ –∑ Shopify Storefront schema
4. –í–∏–¥–∞–ª–∏—Ç–∏ –º–∞–Ω—É–∞–ª—å–Ω—ñ —Ç–∏–ø–∏
```

**–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:**

```yaml
# codegen.yml
schema: 'https://profstore-usa.myshopify.com/api/2024-04/graphql.json'
generates:
  src/types/graphql.ts:
    plugins:
      - typescript
      - typescript-operations
      - typescript-react-apollo
```

---

### 8. CODE QUALITY: Memory leaks —á–µ—Ä–µ–∑ setTimeout

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å cleanup –¥–ª—è setTimeout

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/components/layout/Header/MiddleNav/MiddleNav.tsx:94
onBlur={() => setTimeout(() => setIsFocus(false), 100)}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –Ø–∫—â–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç unmount –¥–æ —Å–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è setTimeout, –±—É–¥–µ warning

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –°–ï–†–ï–î–ù–Ü–ô
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –ù–∏–∑—å–∫–∞
–ß–ê–°: 10 —Ö–≤–∏–ª–∏–Ω

–†—ñ—à–µ–Ω–Ω—è:
useEffect(() => {
  let timeoutId: NodeJS.Timeout;

  const handleBlur = () => {
    timeoutId = setTimeout(() => setIsFocus(false), 100);
  };

  return () => clearTimeout(timeoutId);
}, []);
```

---

### 9. APOLLO CLIENT: –ë–∞–∑–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∫–µ—à—É

**–ü—Ä–æ–±–ª–µ–º–∞:** InMemoryCache –±–µ–∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/lib/apollo/appolo-client.ts:25-28
export const client = new ApolloClient({
  link: authLink.concat(httpLink),
  cache: new InMemoryCache(), // ‚ùå –ë–∞–∑–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
});
```

**–©–æ –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ:**

- fetchPolicy –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤
- typePolicies –¥–ª—è –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó
- possibleTypes –¥–ª—è unions/interfaces

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –°–ï–†–ï–î–ù–Ü–ô
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –°–µ—Ä–µ–¥–Ω—è
–ß–ê–°: 1 –≥–æ–¥–∏–Ω–∞

–†—ñ—à–µ–Ω–Ω—è:
cache: new InMemoryCache({
  typePolicies: {
    Query: {
      fields: {
        products: {
          keyArgs: false,
          merge(existing = [], incoming) {
            return [...existing, ...incoming];
          },
        },
      },
    },
  },
})
```

---

### 10. SEO: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å dynamic metadata

**–ü—Ä–æ–±–ª–µ–º–∞:** Generic metadata –≤ layout.tsx

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/app/layout.tsx:25-28
export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
};
```

**–©–æ –Ω–µ —Ç–∞–∫:**

- –ù–µ–º–∞—î generateMetadata –¥–ª—è dynamic routes
- –ù–µ–º–∞—î Open Graph tags
- –ù–µ–º–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö (JSON-LD)

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –°–ï–†–ï–î–ù–Ü–ô
–°–ö–õ–ê–î–ù–Ü–°–¢–¨: –ù–∏–∑—å–∫–∞
–ß–ê–°: 1 –≥–æ–¥–∏–Ω–∞

–î–æ–¥–∞—Ç–∏:
// app/catalog/[handle]/page.tsx
export async function generateMetadata({ params }): Promise<Metadata> {
  const product = await fetchProduct(params.handle);

  return {
    title: `${product.title} | ProfStore`,
    description: product.description,
    openGraph: {
      images: [product.image],
    },
  };
}
```

---

## üü¢ –ù–ï–ö–†–ò–¢–ò–ß–ù–Ü –ü–†–û–ë–õ–ï–ú–ò (–ú–û–ñ–ù–ê –ó–ê–õ–ò–®–ò–¢–ò/–í–ò–ü–†–ê–í–ò–¢–ò –ü–Ü–ó–ù–Ü–®–ï)

### 11. CODE STYLE: –û–ø–µ—á–∞—Ç–∫–∞ –≤ –Ω–∞–∑–≤—ñ —Ñ–∞–π–ª—É

**–õ–æ–∫–∞—Ü—ñ—è:** `src/lib/apollo/appolo-client.ts` ‚ùå –º–∞—î –±—É—Ç–∏ `apollo-client.ts` ‚úÖ

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –ù–ò–ó–¨–ö–ò–ô
–ß–ê–°: 2 —Ö–≤–∏–ª–∏–Ω–∏

git mv src/lib/apollo/appolo-client.ts src/lib/apollo/apollo-client.ts
```

---

### 12. CODE QUALITY: –ö–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π –∫–æ–¥

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/app/layout.tsx:5
// import './globals.css';

// src/components/layout/Header/MiddleNav/MiddleNav.tsx:6
// const subCategories = activeCollection?.items;
```

**–©–æ —Ä–æ–±–∏—Ç–∏:** –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π –∫–æ–¥ (–Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å)

---

### 13. CODE QUALITY: –ü–æ—Ä–æ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/components/layout/Header/MiddleNav/MiddleNav.tsx:88
const handleCatalogClick = () => {};
```

**–©–æ —Ä–æ–±–∏—Ç–∏:** –í–∏–¥–∞–ª–∏—Ç–∏ –∞–±–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É

---

### 14. CODE QUALITY: Hardcoded —Å—Ç–∏–ª—ñ

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/app/layout.tsx:36
<main style={{ height: "100vh" }}>{children}</main>
```

**–©–æ —Ä–æ–±–∏—Ç–∏:** –í–∏–Ω–µ—Å—Ç–∏ –≤ CSS modules (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)

---

### 15. UX: –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–æ—à—É–∫—É

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/app/search/page.tsx:2
export default function HomeSearchPage() {
  return <h1>delivery</h1>; // ‚ùå –ú–∞—î –±—É—Ç–∏ "search"
}
```

**–©–æ —Ä–æ–±–∏—Ç–∏:** –í–∏–ø—Ä–∞–≤–∏—Ç–∏ —Ç–µ–∫—Å—Ç –∞–±–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É

---

### 16. ACCESSIBILITY: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å ARIA labels

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–≥–∞–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –¥–ª—è screen readers

**–ü—Ä–∏–∫–ª–∞–¥–∏:**

```typescript
// –ö–Ω–æ–ø–∫–∏ –±–µ–∑ type="button"
<button onClick={onClose}>...</button>

// –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å aria-label –¥–ª—è —ñ–∫–æ–Ω–æ–∫
<Icon name="search" />
```

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –ù–ò–ó–¨–ö–ò–ô
–ß–ê–°: 2 –≥–æ–¥–∏–Ω–∏

–î–æ–¥–∞—Ç–∏:
- aria-label –¥–ª—è –≤—Å—ñ—Ö —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
- type="button" –¥–ª—è –∫–Ω–æ–ø–æ–∫
- keyboard navigation –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥—É
- focus management
```

---

### 17. ESLINT: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ directives

**–õ–æ–∫–∞—Ü—ñ—è:**

```typescript
// src/lib/apollo/appolo-client.ts:1
/* eslint-disable no-undef */ // ‚ùå –ì–ª–æ–±–∞–ª—å–Ω–∏–π disable
```

**–©–æ —Ä–æ–±–∏—Ç–∏:** –ó–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ targeted disable –∞–±–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É

---

### 18. CODE DUPLICATION: –î—É–±–ª—é–≤–∞–Ω–Ω—è —Ç–∏–ø—ñ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** Product type –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π –≤ –∫—ñ–ª—å–∫–æ—Ö –º—ñ—Å—Ü—è—Ö

**–©–æ —Ä–æ–±–∏—Ç–∏:**

```
–ü–†–Ü–û–†–ò–¢–ï–¢: –ù–ò–ó–¨–ö–ò–ô
–ß–ê–°: 30 —Ö–≤–∏–ª–∏–Ω

–°—Ç–≤–æ—Ä–∏—Ç–∏:
src/types/shopify.ts - shared types
```

---

## üìä –ü–†–Ü–û–†–ò–¢–ò–ó–ê–¶–Ü–Ø –í–ò–ü–†–ê–í–õ–ï–ù–¨

### üî• –¢–ï–†–ú–Ü–ù–û–í–û (–¢–∏–∂–¥–µ–Ω—å 1)

1. **–í–∏–¥–∞–ª–∏—Ç–∏ console.warn** (15 —Ö–≤)
   - –§–∞–π–ª: `src/lib/apollo/appolo-client.ts:7-10`
   - –§–∞–π–ª–∏: CatalogSidebar, MobileCatalogMenu

2. **–î–æ–¥–∞—Ç–∏ Error Boundary** (1 –¥–µ–Ω—å)
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ErrorBoundary
   - –û–±–≥–æ—Ä–Ω—É—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ñ —Å–µ–∫—Ü—ñ—ó

3. **–í–∏–ø—Ä–∞–≤–∏—Ç–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É search** (5 —Ö–≤)

### üöÄ –í–ê–ñ–õ–ò–í–û (–¢–∏–∂–Ω—ñ 2-3)

4. **–ú—ñ–≥—Ä—É–≤–∞—Ç–∏ –Ω–∞ Server Components** (2-3 –¥–Ω—ñ)
   - –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ data fetching –Ω–∞ —Å–µ—Ä–≤–µ—Ä
   - –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ bundle size
   - –ü–æ–∫—Ä–∞—â–∏—Ç–∏ SEO

5. **–î–æ–¥–∞—Ç–∏ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é** (1 –¥–µ–Ω—å)
   - –ó–∞–º—ñ—Å—Ç—å 50 –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –æ–¥—Ä–∞–∑—É
   - Infinite scroll –∞–±–æ numbered pagination

6. **–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ graphql-codegen** (2 –≥–æ–¥)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤

### üìà –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ø (–¢–∏–∂–Ω—ñ 4+)

7. **–ü–æ–∫—Ä–∞—â–∏—Ç–∏ Apollo Client –∫–µ—à** (1 –≥–æ–¥)
8. **–î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö** (30 —Ö–≤)
9. **–í–∏–ø—Ä–∞–≤–∏—Ç–∏ memory leaks** (10 —Ö–≤)
10. **–î–æ–¥–∞—Ç–∏ SEO metadata** (1 –≥–æ–¥)
11. **–ü–æ–∫—Ä–∞—â–∏—Ç–∏ accessibility** (2 –≥–æ–¥)

---

## ‚úÖ –©–û –î–û–ë–†–ï –í –ü–†–û–ï–ö–¢–Ü

### –ü–æ–∑–∏—Ç–∏–≤–Ω—ñ –∞—Å–ø–µ–∫—Ç–∏:

1. **TypeScript strict mode** ‚úÖ
   - –ù–µ–º–∞—î `any` —Ç–∏–ø—ñ–≤
   - –ù–µ–º–∞—î `@ts-ignore`
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–ø—Å—ñ–≤

2. **Next.js 16 + React 19** ‚úÖ
   - –°—É—á–∞—Å–Ω—ñ –≤–µ—Ä—Å—ñ—ó
   - React Compiler —É–≤—ñ–º–∫–Ω–µ–Ω–∏–π

3. **Code organization** ‚úÖ
   - –õ–æ–≥—ñ—á–Ω–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –Ω–∞ –ø–∞–ø–∫–∏
   - Barrel exports
   - CSS Modules

4. **Shopify Storefront API** ‚úÖ
   - –ü—Ä–∞–≤–∏–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API
   - –¢–æ–∫–µ–Ω NEXT*PUBLIC* –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è Storefront API

5. **Git hygiene** ‚úÖ
   - .env —Ñ–∞–π–ª –Ω–µ –∑–∞–∫–æ–º–º—ñ—á–µ–Ω–∏–π
   - .gitignore –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ

6. **ESLint + Prettier** ‚úÖ
   - –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ code style

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–á –ü–û –í–ò–ü–†–ê–í–õ–ï–ù–ù–Æ

### –ü—ñ–¥—Ö—ñ–¥ "–®–≤–∏–¥–∫—ñ –ø–µ—Ä–µ–º–æ–≥–∏" (1 –¥–µ–Ω—å):

```bash
# 1. –í–∏–¥–∞–ª–∏—Ç–∏ console statements (15 —Ö–≤)
# 2. –í–∏–ø—Ä–∞–≤–∏—Ç–∏ search page (5 —Ö–≤)
# 3. –ü–µ—Ä–µ–π–º–µ–Ω—É–≤–∞—Ç–∏ appolo -> apollo (2 —Ö–≤)
# 4. –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π –∫–æ–¥ (10 —Ö–≤)
# 5. –î–æ–¥–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é URL (30 —Ö–≤)
# 6. –í–∏–ø—Ä–∞–≤–∏—Ç–∏ memory leak –≤ setTimeout (10 —Ö–≤)
```

### –ü—ñ–¥—Ö—ñ–¥ "–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –∑–º—ñ–Ω–∏" (1-2 —Ç–∏–∂–Ω—ñ):

```bash
# 1. –ú—ñ–≥—Ä—É–≤–∞—Ç–∏ –Ω–∞ Server Components (2-3 –¥–Ω—ñ)
# 2. –î–æ–¥–∞—Ç–∏ Error Boundary (1 –¥–µ–Ω—å)
# 3. –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ graphql-codegen (2 –≥–æ–¥)
# 4. –î–æ–¥–∞—Ç–∏ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é (1 –¥–µ–Ω—å)
# 5. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Apollo Client cache (1 –≥–æ–¥)
# 6. –î–æ–¥–∞—Ç–∏ SEO metadata (1 –≥–æ–¥)
# 7. –ü–æ–∫—Ä–∞—â–∏—Ç–∏ accessibility (2 –≥–æ–¥)
```

---

## üí∞ –í–ü–õ–ò–í –ù–ê –ë–Ü–ó–ù–ï–°

### –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ (—è–∫—â–æ –Ω–µ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏):

- **SEO:** –°–∞–π—Ç –ø–æ–≥–∞–Ω–æ —ñ–Ω–¥–µ–∫—Å—É—î—Ç—å—Å—è Google (–≤—Å–µ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ)
- **Performance:** –ü–æ–≤—ñ–ª—å–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ = –≤–∏—Å–æ–∫–∏–π bounce rate
- **UX:** "Loading..." = –ø–æ–≥–∞–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Å—ñ—è
- **Scalability:** –ü—Ä–∏ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—ñ —Ç—Ä–∞—Ñ—ñ–∫—É –±—É–¥—É—Ç—å –ø—Ä–æ–±–ª–µ–º–∏

### –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:

- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è Core Web Vitals
- ‚úÖ –ö—Ä–∞—â–∏–π SEO —Ä–µ–π—Ç–∏–Ω–≥
- ‚úÖ –®–≤–∏–¥—à–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- ‚úÖ –ú–µ–Ω—à–∏–π JavaScript bundle
- ‚úÖ –ö—Ä–∞—â–∞ user experience

---

## üìù –í–ò–°–ù–û–í–û–ö

### –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:

–ü—Ä–æ–µ–∫—Ç –º–∞—î **—Å–æ–ª—ñ–¥–Ω–∏–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç** (TypeScript, Next.js, code organization), –∞–ª–µ **–∫—Ä–∏—Ç–∏—á–Ω—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏** –∑–Ω–∏–∂—É—é—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ç–∞ SEO.

### –ì–æ–ª–æ–≤–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞:

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Next.js App Router** - –≤–µ—Å—å –¥–æ–¥–∞—Ç–æ–∫ –ø—Ä–∞—Ü—é—î —è–∫ Client-Side React app, —â–æ –Ω—ñ–≤–µ–ª—é—î –ø–µ—Ä–µ–≤–∞–≥–∏ Next.js.

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 1:** –ú—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ Server Components (2-3 –¥–Ω—ñ —Ä–æ–±–æ—Ç–∏)
**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 2:** Error handling —Ç–∞ console cleanup (1 –¥–µ–Ω—å)
**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 3:** Performance optimization (1-2 —Ç–∏–∂–Ω—ñ)

### –û—Ü—ñ–Ω–∫–∞ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å:

- **–®–≤–∏–¥–∫—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (1 –¥–µ–Ω—å):** 6/10 –ø—Ä–æ–±–ª–µ–º
- **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –∑–º—ñ–Ω–∏ (1-2 —Ç–∏–∂–Ω—ñ):** –í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏
- **ROI:** –í–∏—Å–æ–∫–∏–π - –≤–µ–ª–∏–∫–µ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∑–∞ –ø–æ–º—ñ—Ä–Ω—ñ –∑—É—Å–∏–ª–ª—è

---

**–ü—ñ–¥–≥–æ—Ç—É–≤–∞–≤:** Claude Sonnet 4.5
**–î–∞—Ç–∞:** 12 –≥—Ä—É–¥–Ω—è 2025
